{"ast":null,"code":"import _slicedToArray from\"/Users/thetrung/Downloads/wtg-backendv2-master@42dd489862c/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useMutation}from'@apollo/react-hooks';import cogoToast from'cogo-toast';import{DELETE_NODE}from'../../services/graphQL/editorApiHelper';import'./deleteAlert.scss';export default function DeleteAlert(props){var _useMutation=useMutation(DELETE_NODE),_useMutation2=_slicedToArray(_useMutation,1),deleteNodeAndAllChildren=_useMutation2[0];function deleteNodeAndToggleDialog(){deleteNodeAndAllChildren({variables:{id:props.nodeData.id}}).then(function(res){cogoToast.success(\"Succesfully deleted node \".concat(res.data.deleteNodeAndAllChildren.referenceId));props.refreshView();}).catch(function(err){return cogoToast.error(err.message);});props.toggleDeleteDialog();}return/*#__PURE__*/React.createElement(\"div\",{className:\"deleteDialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"deleteDialog-label\"},\"Deleting this node will remove all of its children. Are you sure?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"deleteDialog-buttonGroup\"},/*#__PURE__*/React.createElement(\"button\",{onClick:props.toggleDeleteDialog,className:\"deleteDialog-buttonGroup--cancel\"},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{onClick:deleteNodeAndToggleDialog,className:\"deleteDialog-buttonGroup--delete\"},\"Delete\")));}","map":{"version":3,"sources":["/Users/thetrung/Downloads/wtg-backendv2-master@42dd489862c/client/src/components/delete-node-alert/deleteAlert.jsx"],"names":["React","useMutation","cogoToast","DELETE_NODE","DeleteAlert","props","deleteNodeAndAllChildren","deleteNodeAndToggleDialog","variables","id","nodeData","then","res","success","data","referenceId","refreshView","catch","err","error","message","toggleDeleteDialog"],"mappings":"wLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,WAAT,KAA4B,qBAA5B,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,WAAT,KAA4B,wCAA5B,CAEA,MAAO,oBAAP,CAQA,cAAe,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,kBACJJ,WAAW,CAACE,WAAD,CADP,8CAChCG,wBADgC,kBAEvC,QAASC,CAAAA,yBAAT,EAAqC,CACjCD,wBAAwB,CAAC,CACrBE,SAAS,CAAE,CAAEC,EAAE,CAAEJ,KAAK,CAACK,QAAN,CAAeD,EAArB,CADU,CAAD,CAAxB,CAGKE,IAHL,CAGU,SAAAC,GAAG,CAAI,CACTV,SAAS,CAACW,OAAV,oCAA8CD,GAAG,CAACE,IAAJ,CAASR,wBAAT,CAAkCS,WAAhF,GACAV,KAAK,CAACW,WAAN,GACH,CANL,EAOKC,KAPL,CAOW,SAAAC,GAAG,QAAIhB,CAAAA,SAAS,CAACiB,KAAV,CAAgBD,GAAG,CAACE,OAApB,CAAJ,EAPd,EAQAf,KAAK,CAACgB,kBAAN,GACH,CACD,mBACI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,oBAAf,sEADJ,cAEI,2BAAK,SAAS,CAAC,0BAAf,eACI,8BAAQ,OAAO,CAAEhB,KAAK,CAACgB,kBAAvB,CAA2C,SAAS,CAAC,kCAArD,WADJ,cAII,8BAAQ,OAAO,CAAEd,yBAAjB,CAA4C,SAAS,CAAC,kCAAtD,WAJJ,CAFJ,CADJ,CAaH","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useMutation } from '@apollo/react-hooks';\nimport cogoToast from 'cogo-toast';\nimport { DELETE_NODE } from '../../services/graphQL/editorApiHelper';\n\nimport './deleteAlert.scss';\n\nDeleteAlert.propTypes = {\n    toggleDeleteDialog: PropTypes.func,\n    nodeData: PropTypes.object,\n    refreshView: PropTypes.func,\n};\n\nexport default function DeleteAlert(props) {\n    const [deleteNodeAndAllChildren] = useMutation(DELETE_NODE);\n    function deleteNodeAndToggleDialog() {\n        deleteNodeAndAllChildren({\n            variables: { id: props.nodeData.id },\n        })\n            .then(res => {\n                cogoToast.success(`Succesfully deleted node ${res.data.deleteNodeAndAllChildren.referenceId}`);\n                props.refreshView();\n            })\n            .catch(err => cogoToast.error(err.message));\n        props.toggleDeleteDialog();\n    }\n    return (\n        <div className='deleteDialog'>\n            <div className='deleteDialog-label'>Deleting this node will remove all of its children. Are you sure?</div>\n            <div className='deleteDialog-buttonGroup'>\n                <button onClick={props.toggleDeleteDialog} className='deleteDialog-buttonGroup--cancel'>\n                    Cancel\n                </button>\n                <button onClick={deleteNodeAndToggleDialog} className='deleteDialog-buttonGroup--delete'>\n                    Delete\n                </button>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}